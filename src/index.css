@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Brand Colors - Deep, Industrial */
  --brand-primary: #2563eb;
  --brand-dark: #1e40af;
  --brand-light: #3b82f6;
  --brand-accent: #f97316;

  /* Neutrals - Raw, Concrete */
  --black: #0a0a0a;
  --gray-950: #0c0c0c;
  --gray-900: #141414;
  --gray-800: #1f1f1f;
  --gray-700: #2e2e2e;
  --gray-600: #404040;
  --gray-500: #525252;
  --gray-400: #737373;
  --gray-300: #a3a3a3;
  --gray-200: #d4d4d4;
  --gray-100: #e5e5e5;
  --white: #fafafa;
  --off-white: #f5f5f0;

  /* Typography Scale - Fluid */
  --text-xs: clamp(0.7rem, 0.65rem + 0.2vw, 0.75rem);
  --text-sm: clamp(0.8rem, 0.75rem + 0.25vw, 0.875rem);
  --text-base: clamp(0.9rem, 0.85rem + 0.3vw, 1rem);
  --text-lg: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --text-xl: clamp(1.15rem, 1rem + 0.75vw, 1.25rem);
  --text-2xl: clamp(1.4rem, 1.2rem + 1vw, 1.5rem);
  --text-3xl: clamp(1.75rem, 1.4rem + 1.75vw, 1.875rem);
  --text-4xl: clamp(2rem, 1.5rem + 2.5vw, 2.25rem);
  --text-5xl: clamp(2.5rem, 1.75rem + 3.75vw, 3rem);
  --text-6xl: clamp(3rem, 2rem + 5vw, 3.75rem);
  --text-7xl: clamp(3.5rem, 2.25rem + 6.25vw, 4.5rem);
  --text-8xl: clamp(4rem, 2.5rem + 7.5vw, 6rem);
  --text-display: clamp(4.5rem, 3rem + 7.5vw, 8rem);

  /* Spacing - Irregular */
  --space-xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.5rem);
  --space-sm: clamp(0.5rem, 0.4rem + 0.5vw, 0.75rem);
  --space-md: clamp(1rem, 0.8rem + 1vw, 1.5rem);
  --space-lg: clamp(1.5rem, 1rem + 2.5vw, 2.5rem);
  --space-xl: clamp(2rem, 1.25rem + 3.75vw, 4rem);
  --space-2xl: clamp(3rem, 2rem + 5vw, 6rem);
  --space-3xl: clamp(4rem, 2.5rem + 7.5vw, 8rem);
  --space-section: clamp(6rem, 4rem + 10vw, 12rem);

  /* Easing - Custom, Non-linear */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-quint: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-in-out-circ: cubic-bezier(0.85, 0, 0.15, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Grid - Broken */
  --grid-cols: 12;
  --grid-gap: clamp(1rem, 0.5rem + 2.5vw, 2rem);
  --container-padding: clamp(1.5rem, 1rem + 2.5vw, 4rem);
  --max-width: 1600px;

  /* Z-Index Scale */
  --z-behind: -1;
  --z-base: 0;
  --z-above: 10;
  --z-nav: 100;
  --z-overlay: 200;
  --z-modal: 300;
  --z-top: 400;
}

@layer base {
  html {
    scroll-behavior: auto;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  html.lenis, html.lenis body {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto !important;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-smooth iframe {
    pointer-events: none;
  }

  body {
    background-color: var(--black);
    color: var(--white);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
    line-height: 1.6;
    overflow-x: hidden;
  }

  ::selection {
    background-color: var(--brand-primary);
    color: white;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Poppins', 'Inter', system-ui, sans-serif;
    font-weight: 800;
    letter-spacing: -0.04em;
    line-height: 0.95;
    text-wrap: balance;
  }

  h1 {
    font-size: var(--text-display);
    letter-spacing: -0.05em;
  }

  h2 {
    font-size: var(--text-6xl);
    letter-spacing: -0.045em;
  }

  h3 {
    font-size: var(--text-4xl);
    letter-spacing: -0.035em;
  }

  h4 {
    font-size: var(--text-2xl);
    letter-spacing: -0.025em;
  }

  a {
    text-decoration: none;
    transition: color 0.3s var(--ease-out-expo);
  }

  :focus-visible {
    outline: 2px solid var(--brand-primary);
    outline-offset: 4px;
  }

  img, video {
    max-width: 100%;
    height: auto;
    display: block;
  }
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--gray-700);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--brand-primary);
}

@layer utilities {
  .container-fluid {
    width: 100%;
    max-width: var(--max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }

  .container-left {
    width: 100%;
    max-width: var(--max-width);
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }

  .container-right {
    width: 100%;
    max-width: var(--max-width);
    margin-left: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }

  .offset-left-sm { margin-left: 5%; }
  .offset-left-md { margin-left: 10%; }
  .offset-left-lg { margin-left: 15%; }
  .offset-right-sm { margin-right: 5%; }
  .offset-right-md { margin-right: 10%; }
  .offset-right-lg { margin-right: 15%; }

  .-mt-overlap { margin-top: -8rem; }
  .-mt-overlap-sm { margin-top: -4rem; }
  .-mt-overlap-lg { margin-top: -12rem; }
  .-ml-bleed { margin-left: -2rem; }
  .-mr-bleed { margin-right: -2rem; }

  .text-fluid-xs { font-size: var(--text-xs); }
  .text-fluid-sm { font-size: var(--text-sm); }
  .text-fluid-base { font-size: var(--text-base); }
  .text-fluid-lg { font-size: var(--text-lg); }
  .text-fluid-xl { font-size: var(--text-xl); }
  .text-fluid-2xl { font-size: var(--text-2xl); }
  .text-fluid-3xl { font-size: var(--text-3xl); }
  .text-fluid-4xl { font-size: var(--text-4xl); }
  .text-fluid-5xl { font-size: var(--text-5xl); }
  .text-fluid-6xl { font-size: var(--text-6xl); }
  .text-fluid-7xl { font-size: var(--text-7xl); }
  .text-fluid-8xl { font-size: var(--text-8xl); }
  .text-fluid-display { font-size: var(--text-display); }

  .section-padding {
    padding-top: var(--space-section);
    padding-bottom: var(--space-section);
  }

  .section-padding-top {
    padding-top: var(--space-section);
  }

  .section-padding-bottom {
    padding-bottom: var(--space-section);
  }

  .visual-break {
    height: clamp(2rem, 1rem + 5vw, 6rem);
  }

  .gradient-dark-bottom {
    background: linear-gradient(to top, var(--black) 0%, transparent 100%);
  }

  .gradient-dark-top {
    background: linear-gradient(to bottom, var(--black) 0%, transparent 100%);
  }

  .gradient-dark-left {
    background: linear-gradient(to right, var(--black) 0%, transparent 100%);
  }

  .clip-diagonal {
    clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
  }

  .clip-diagonal-reverse {
    clip-path: polygon(0 0, 100% 15%, 100% 100%, 0 100%);
  }

  .text-stroke {
    -webkit-text-stroke: 1px currentColor;
    -webkit-text-fill-color: transparent;
  }

  .text-stroke-2 {
    -webkit-text-stroke: 2px currentColor;
    -webkit-text-fill-color: transparent;
  }

  .split-word, .split-char, .split-line {
    display: inline-block;
    will-change: transform, opacity;
  }

  .split-line {
    overflow: hidden;
  }

  .img-reveal {
    overflow: hidden;
  }

  .img-reveal img {
    transform: scale(1.3);
    will-change: transform;
  }

  .magnetic {
    display: inline-block;
    will-change: transform;
  }

  .gsap-hidden {
    visibility: hidden;
  }

  .accent-brand {
    color: var(--brand-primary);
  }

  .bg-brand {
    background-color: var(--brand-primary);
  }

  .border-brand {
    border-color: var(--brand-primary);
  }

  .blend-difference {
    mix-blend-mode: difference;
  }

  .blend-exclusion {
    mix-blend-mode: exclusion;
  }

  .noise::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.03;
    pointer-events: none;
  }
}

@layer components {
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem 2rem;
    font-weight: 600;
    font-size: var(--text-sm);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    transition: all 0.4s var(--ease-out-expo);
    position: relative;
    overflow: hidden;
  }

  .btn-primary {
    background-color: var(--brand-primary);
    color: white;
  }

  .btn-primary:hover {
    background-color: var(--brand-dark);
    transform: translateY(-2px);
  }

  .btn-outline {
    background: transparent;
    border: 2px solid currentColor;
  }

  .btn-outline:hover {
    background: var(--white);
    color: var(--black);
  }

  .card-broken {
    position: relative;
    background: var(--gray-900);
  }

  .card-broken::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    width: 40%;
    height: 3px;
    background: var(--brand-primary);
  }

  .marquee {
    display: flex;
    overflow: hidden;
    user-select: none;
  }

  .marquee-content {
    display: flex;
    flex-shrink: 0;
    animation: marquee 30s linear infinite;
  }

  @keyframes marquee {
    from { transform: translateX(0); }
    to { transform: translateX(-100%); }
  }

  .parallax-container {
    overflow: hidden;
    position: relative;
  }

  .parallax-img {
    will-change: transform;
    height: 120%;
    width: 100%;
    object-fit: cover;
  }

  .reveal-up {
    opacity: 0;
    transform: translateY(60px);
  }

  .reveal-left {
    opacity: 0;
    transform: translateX(-60px);
  }

  .reveal-right {
    opacity: 0;
    transform: translateX(60px);
  }

  .reveal-scale {
    opacity: 0;
    transform: scale(0.9);
  }

  .hr-broken {
    border: none;
    height: 1px;
    background: linear-gradient(90deg, var(--brand-primary) 0%, var(--brand-primary) 30%, var(--gray-800) 30%, var(--gray-800) 100%);
  }

  .tag {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    background: var(--brand-primary);
    color: white;
  }

  .tag-outline {
    background: transparent;
    border: 1px solid var(--gray-600);
    color: var(--gray-400);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes rotate-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes scale-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto;
  }
}

@media print {
  body {
    background: white;
    color: black;
  }

  .no-print {
    display: none !important;
  }
}
